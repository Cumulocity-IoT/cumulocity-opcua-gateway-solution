ck@SAG-LHH72HT72F cumulocity-opcua-gateway-solution % docker-compose up --build --no-deps
[+] Building 2.3s (12/12) FINISHED                                                                                                                                                                  docker:default
 => [gateway internal] load build definition from Dockerfile                                                                                                                                                  0.0s
 => => transferring dockerfile: 1.24kB                                                                                                                                                                        0.0s
 => [gateway internal] load .dockerignore                                                                                                                                                                     0.0s
 => => transferring context: 2B                                                                                                                                                                               0.0s
 => [gateway internal] load metadata for docker.io/library/alpine:3.17                                                                                                                                        2.2s
 => [gateway auth] library/alpine:pull token for registry-1.docker.io                                                                                                                                         0.0s
 => [gateway 1/5] FROM docker.io/library/alpine:3.17@sha256:6e94b5cda2d6fd57d85abf81e81dabaea97a5885f919da676cc19d3551da4061                                                                                  0.0s
 => [gateway] http://resources.cumulocity.com/examples/opc-ua/opcua-device-gateway-1017.0.289.jar                                                                                                             0.1s
 => [gateway internal] load build context                                                                                                                                                                     0.0s
 => => transferring context: 113B                                                                                                                                                                             0.0s
 => CACHED [gateway 2/5] RUN apk update && apk upgrade && apk add --no-cache bash && apk add --no-cache --virtual=build-dependencies unzip && apk add --no-cache curl && apk add --no-cache  openjdk11        0.0s
 => CACHED [gateway 3/5] ADD application-tenant.yaml /                                                                                                                                                        0.0s
 => CACHED [gateway 4/5] ADD logging.xml /                                                                                                                                                                    0.0s
 => CACHED [gateway 5/5] ADD http://resources.cumulocity.com/examples/opc-ua/opcua-device-gateway-1017.0.289.jar /                                                                                            0.0s
 => [gateway] exporting to image                                                                                                                                                                              0.0s
 => => exporting layers                                                                                                                                                                                       0.0s
 => => writing image sha256:08166ce0886fbb5fe9f792b7a80be00633f27c5d693af7328713c2b3603373cc                                                                                                                  0.0s
 => => naming to docker.io/library/cumulocity-opcua-gateway-solution-gateway                                                                                                                                  0.0s
[+] Running 2/2
 ✔ Network cumulocity-opcua-gateway-solution_default      Created                                                                                                                                             0.0s 
 ✔ Container cumulocity-opcua-gateway-solution-gateway-1  Created                                                                                                                                             0.0s 
Attaching to gateway-1
gateway-1  | 
gateway-1  |   .   ____          _            __ _ _
gateway-1  |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
gateway-1  | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
gateway-1  |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
gateway-1  |   '  |____| .__|_| |_|_| |_\__, | / / / /
gateway-1  |  =========|_|==============|___/=/_/_/_/
gateway-1  |  :: Spring Boot ::                (v2.7.6)
gateway-1  | 
gateway-1  | 2024-01-16 10:27:00.703  INFO 1 --- [           main] c.c.o.client.gateway.GatewayApplication  : Starting GatewayApplication using Java 11.0.21 on 27d70ee9f456 with PID 1 (/opcua-device-gateway-1017.0.289.jar started by root in /)
gateway-1  | 2024-01-16 10:27:00.707  INFO 1 --- [           main] c.c.o.client.gateway.GatewayApplication  : The following 2 profiles are active: "default", "tenant"
gateway-1  | 2024-01-16 10:27:01.629  INFO 1 --- [           main] c.c.o.c.g.c.GatewayGeneralConfiguration  : GATEWAY VERSION: 1017.0.289
gateway-1  | 2024-01-16 10:27:01.629  INFO 1 --- [           main] c.c.o.c.g.c.GatewayGeneralConfiguration  : GATEWAY IDENTIFIER: GATEWAY_IDENTIFIER_TRANSFORMER
gateway-1  | 2024-01-16 10:27:01.629  INFO 1 --- [           main] c.c.o.c.g.c.GatewayGeneralConfiguration  : Gateway general configuration: GatewayGeneralConfiguration(gatewayIdentifier=GATEWAY_IDENTIFIER_TRANSFORMER, gatewayName=Gateway Main, baseUrl=https://demo-dach.eu-latest.cumulocity.com, forceInitialHost=true, forcedBootstrap=false, autoScanAddressSpace=true, operationQueueSize=100, detectServersAddedOrRemoveInterval=15000, shortPollingEnabled=true, shortPollingFixedDelayMils=15000, triggerManualReconnectOnConnectionDrop=true, bootstrapConfig=GatewayGeneralConfiguration.DeviceBootstrapConfiguration(tenantId=t905962554, username=devicebootstrap, bootstrapDelay=5000), environment=ApplicationEnvironment {activeProfiles=[default, tenant], defaultProfiles=[default], propertySources=[ConfigurationPropertySourcesPropertySource {name='configurationProperties'}, SimpleCommandLinePropertySource {name='commandLineArgs'}, PropertiesPropertySource {name='systemProperties'}, OriginAwareSystemEnvironmentPropertySource {name='systemEnvironment'}, RandomValuePropertySource {name='random'}, OriginTrackedMapPropertySource {name='Config resource 'file [application-tenant.yaml]' via location 'optional:file:./''}, OriginTrackedMapPropertySource {name='Config resource 'class path resource [application-default.yaml]' via location 'optional:classpath:/''}]})
gateway-1  | 2024-01-16 10:27:01.724  INFO 1 --- [           main] c.c.o.c.g.c.DatabaseConfiguration        : Mapping store: /./data/deviceTypeMapping.dat
gateway-1  | WARNING: An illegal reflective access operation has occurred
gateway-1  | WARNING: Illegal reflective access using Lookup on net.openhft.chronicle.core.Jvm (jar:file:/opcua-device-gateway-1017.0.289.jar!/BOOT-INF/lib/chronicle-core-2.22.32.jar!/) to class java.lang.reflect.AccessibleObject
gateway-1  | WARNING: Please consider reporting this to the maintainers of net.openhft.chronicle.core.Jvm
gateway-1  | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
gateway-1  | WARNING: All illegal access operations will be denied in a future release
gateway-1  | 2024-01-16 10:27:01.754  INFO 1 --- [           main] net.openhft.chronicle.core.Jvm           : Chronicle core loaded from jar:file:/opcua-device-gateway-1017.0.289.jar!/BOOT-INF/lib/chronicle-core-2.22.32.jar!/
gateway-1  | Client id file not present: /root/.chronicle.analytics.client.id java.nio.file.NoSuchFileException: /root/.chronicle.analytics.client.id
gateway-1  | 2024-01-16 10:27:01.856  WARN 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : Recovery operation needs exclusive access to the ChronicleMap or else the result is unspecified including the risk of loosing and/or corrupting partial or all data.
gateway-1  | 2024-01-16 10:27:01.856  WARN 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : Do not use recovery as a standard way of opening a ChronicleMap.
gateway-1  | 2024-01-16 10:28:02.519 ERROR 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : file=/data/deviceTypeMapping.dat: size-prefixed blob readiness bit is set to NOT_COMPLETE
gateway-1  | 2024-01-16 10:28:02.965  INFO 1 --- [           main] n.o.c.c.i.announcer.InternalAnnouncer    : Running under OpenJDK Runtime Environment 11.0.21+9-alpine-r0 with 2 processors reported.
gateway-1  | 2024-01-16 10:28:02.965  INFO 1 --- [           main] n.o.c.c.i.announcer.InternalAnnouncer    : Leave your e-mail to get information about the latest releases and patches at https://chronicle.software/release-notes/
gateway-1  | 2024-01-16 10:28:02.966  INFO 1 --- [           main] n.o.c.c.i.announcer.InternalAnnouncer    : Process id: 1 :: Chronicle Map (3.22.7)
gateway-1  | 2024-01-16 10:28:02.967  INFO 1 --- [           main] n.o.c.c.i.announcer.InternalAnnouncer    : Analytics: Chronicle Map reports usage statistics. Learn more or turn off: https://github.com/OpenHFT/Chronicle-Map/blob/master/DISCLAIMER.adoc
gateway-1  | 2024-01-16 10:28:03.056  WARN 1 --- [           main] .ReflectionBasedByteBufferCleanerService : Make sure you have set the command line option "--illegal-access=permit --add-exports java.base/jdk.internal.ref=ALL-UNNAMED" to enable ReflectionBasedByteBufferCleanerService
gateway-1  | 2024-01-16 10:28:03.057 ERROR 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : segment headers offset of map at /data/deviceTypeMapping.dat corrupted. stored: 0, should be: 4096
gateway-1  | 2024-01-16 10:28:03.058 ERROR 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : data store size of map at /data/deviceTypeMapping.dat corrupted. stored: 0, should be: 43389504
gateway-1  | 2024-01-16 10:28:03.118  INFO 1 --- [           main] c.c.o.c.g.c.DatabaseConfiguration        : Created deviceTypeMapping storage with size 0, off heap usage of 43393024 bytes and current free space of 100%
gateway-1  | 2024-01-16 10:28:03.206  INFO 1 --- [           main] c.c.o.c.g.c.ConcurrencyConfiguration     : Gateway concurrency configuration: ConcurrencyConfiguration(schedulerPoolSize=15, executorCorePoolSize=30, executorMaxPoolSize=60, crPoolSize=30, mappingExecutionPoolSize=200, eventsThreadPoolSize=30, alarmsThreadPoolSize=30, measurementsThreadPoolSize=60, httpPostThreadPoolSize=200, httpPostMaxQueueSize=50000)
gateway-1  | 2024-01-16 10:28:03.254  INFO 1 --- [           main] c.c.o.c.g.c.DatabaseConfiguration        : Alarm store: /./data/alarmStatus.dat
gateway-1  | 2024-01-16 10:28:03.283 ERROR 1 --- [           main] c.c.o.c.g.c.DatabaseConfiguration        : Cannot initialize alarmStatus database file because of: [net.openhft.chronicle.hash.impl.util.jna.PosixFallocate.fallocate(PosixFallocate.java:25), net.openhft.chronicle.hash.impl.VanillaChronicleHash.fallocate(VanillaChronicleHash.java:1128), net.openhft.chronicle.hash.impl.VanillaChronicleHash.map(VanillaChronicleHash.java:1113), net.openhft.chronicle.hash.impl.VanillaChronicleHash.createMappedStoreAndSegments(VanillaChronicleHash.java:515), net.openhft.chronicle.map.ChronicleMapBuilder.createWithNewFile(ChronicleMapBuilder.java:1843), net.openhft.chronicle.map.ChronicleMapBuilder.createWithFile(ChronicleMapBuilder.java:1741), net.openhft.chronicle.map.ChronicleMapBuilder.createPersistedTo(ChronicleMapBuilder.java:1586), net.openhft.chronicle.map.ChronicleMapBuilder.createOrRecoverPersistedTo(ChronicleMapBuilder.java:1607), net.openhft.chronicle.map.ChronicleMapBuilder.createOrRecoverPersistedTo(ChronicleMapBuilder.java:1597), net.openhft.chronicle.map.ChronicleMapBuilder.createOrRecoverPersistedTo(ChronicleMapBuilder.java:1591), com.cumulocity.opcua.client.gateway.configuration.DatabaseConfiguration.alarmStatusStore(DatabaseConfiguration.java:105), com.cumulocity.opcua.client.gateway.configuration.DatabaseConfiguration$$EnhancerBySpringCGLIB$$3fe0514a.CGLIB$alarmStatusStore$13(<generated>), com.cumulocity.opcua.client.gateway.configuration.DatabaseConfiguration$$EnhancerBySpringCGLIB$$3fe0514a$$FastClassBySpringCGLIB$$e7200cd1.invoke(<generated>), org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244), org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331), com.cumulocity.opcua.client.gateway.configuration.DatabaseConfiguration$$EnhancerBySpringCGLIB$$3fe0514a.alarmStatusStore(<generated>), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:566), org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154), org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653), org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542), org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335), org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234), org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333), org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208), org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276), org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391), org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311), org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657), org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640), org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119), org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619), org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542), org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335), org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234), org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333), org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208), org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955), org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918), org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583), org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731), org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408), org.springframework.boot.SpringApplication.run(SpringApplication.java:307), org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164), com.cumulocity.opcua.client.gateway.GatewayApplication.main(GatewayApplication.java:21), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method), java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.base/java.lang.reflect.Method.invoke(Method.java:566), org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49), org.springframework.boot.loader.Launcher.launch(Launcher.java:108), org.springframework.boot.loader.Launcher.launch(Launcher.java:58), org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)]
gateway-1  | 2024-01-16 10:28:03.286  WARN 1 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'alarmRepository': Unsatisfied dependency expressed through field 'alarmStatusStore'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'net.openhft.chronicle.map.ChronicleMap<java.lang.CharSequence, java.lang.Long>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value="alarmStatusStore")}
gateway-1  | 2024-01-16 10:28:03.298  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : 
gateway-1  | 
gateway-1  | Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
gateway-1  | 2024-01-16 10:28:03.375  INFO 1 --- [           main] c.c.o.c.g.c.DatabaseConfiguration        : Alarm store: /./data/alarmStatus.dat
gateway-1  | 2024-01-16 10:28:03.378  WARN 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : Recovery operation needs exclusive access to the ChronicleMap or else the result is unspecified including the risk of loosing and/or corrupting partial or all data.
gateway-1  | 2024-01-16 10:28:03.379  WARN 1 --- [           main] n.o.chronicle.map.ChronicleMapBuilder    : Do not use recovery as a standard way of opening a ChronicleMap.